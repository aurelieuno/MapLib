{"version":3,"sources":["../src/FileInput.js"],"names":["FileInput","state","filePath","onChange","e","rest","currentTarget","value","substring","length","setState","props","button","className","error","placeholder","inputGroupClassName","defaultProps","FileInputStack","help","label","labelClassName","Stack"],"mappings":";;;;;;;;;;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;;;;;;;;;IAEqBA,S;;;;;;;;;;;;;;4LAOnBC,K,GAAQ;AACNC,gBAAU;AADJ,K,QAIRC,Q,GAAW,UAACC,CAAD,EAAgB;AAAA,yCAATC,IAAS;AAATA,YAAS;AAAA;;AACzB,UAAMH,WAAWE,EAAEE,aAAF,CAAgBC,KAAhB,CAAsBC,SAAtB,CAAgC,iBAAiBC,MAAjD,CAAjB;;AAEA,YAAKC,QAAL,CAAc,EAACR,kBAAD,EAAd;;AAEA,UAAG,MAAKS,KAAL,CAAWR,QAAd,EAAwB;AAAA;;AACtB,eAAO,qBAAKQ,KAAL,EAAWR,QAAX,qBAAoBC,CAApB,SAA0BC,IAA1B,EAAP;AACD;AACF,K;;;;;6BAEQ;AAAA,mBAC6D,KAAKM,KADlE;AAAA,UACAC,MADA,UACAA,MADA;AAAA,UACQC,SADR,UACQA,SADR;AAAA,UACmBC,KADnB,UACmBA,KADnB;AAAA,UAC0BC,WAD1B,UAC0BA,WAD1B;AAAA,UACuCZ,QADvC,UACuCA,QADvC;AAAA,UACoDQ,KADpD;;AAAA,UAEAT,QAFA,GAEY,KAAKD,KAFjB,CAEAC,QAFA;;;AAIP,UAAMc,sBAAsB,0BAAWH,SAAX,EAAsB,eAAtB,EAAuC;AACjE,sBAAc,CAAC,CAACC;AADiD,OAAvC,CAA5B;;AAIA,aACE;AAAA;AAAA,UAAY,WAAWE,mBAAvB;AACE;AAAA,+BAAY,KAAZ;AAAA;AACE;AAAA,iCAAY,KAAZ;AAAA,cAAkB,WAAU,qBAA5B;AAAmDd,wBAAYa;AAA/D;AADF,SADF;AAIE;AAAA,+BAAY,MAAZ;AAAA;AACE;AAAA;AAAA,cAAQ,KAAI,OAAZ,EAAoB,WAAU,sBAA9B;AACGH,kBADH;AAEE,gEAAWD,KAAX,IAAkB,MAAK,MAAvB,EAA8B,WAAU,WAAxC,EAAoD,UAAU,KAAKR,QAAnE;AAFF;AADF;AAJF,OADF;AAaD;;;;;;AA1CkBH,S,CAEZiB,Y,GAAe;AACpBL,UAAQ,aADY;AAEpBG,eAAa;AAFO,C;kBAFHf,S;;IA6CfkB,c;;;;;;;;;;;6BACK;AAAA,oBAC2C,KAAKP,KADhD;AAAA,UACAG,KADA,WACAA,KADA;AAAA,UACOK,IADP,WACOA,IADP;AAAA,UACaN,SADb,WACaA,SADb;AAAA,UACwBO,KADxB,WACwBA,KADxB;AAAA,UACkCT,KADlC;;AAGP,UAAMU,iBAAiB,0BAAWR,SAAX,EAAsB,oBAAtB,CAAvB;;AAEA,aACE;AAAA;AAAA,UAAY,WAAWQ,cAAvB,EAAuC,OAAOP,KAA9C;AACGM,aADH;AAEE,sCAAC,SAAD,eAAeT,KAAf,IAAsB,OAAOG,KAA7B,IAFF;AAGE;AAAA;AAAA;AAAgBK;AAAhB,SAHF;AAIE;AAAA;AAAA;AAAcL;AAAd;AAJF,OADF;AAQD;;;;;;AAEHd,UAAUsB,KAAV,GAAkBJ,cAAlB","file":"FileInput.js","sourcesContent":["import React, {Component} from 'react'\nimport PropTypes from 'prop-types'\nimport classNames from 'classnames'\nimport InputGroup from './InputGroup'\nimport Button from './Button'\nimport InputLabel from './InputLabel'\nimport InputErrors from './InputErrors'\nimport InputHelpText from './InputHelpText'\n\nexport default class FileInput extends Component {\n\n  static defaultProps = {\n    button: 'Choose File',\n    placeholder: 'No file chosen',\n  };\n\n  state = {\n    filePath: null,\n  };\n\n  onChange = (e, ...rest) => {\n    const filePath = e.currentTarget.value.substring('C:\\\\fakepath\\\\'.length)\n\n    this.setState({filePath})\n\n    if(this.props.onChange) {\n      return this.props.onChange(e, ...rest)\n    }\n  };\n\n  render() {\n    const {button, className, error, placeholder, onChange, ...props} = this.props\n    const {filePath} = this.state\n\n    const inputGroupClassName = classNames(className, 'rev-FileInput', {\n      'is-invalid': !!error,\n    })\n\n    return (\n      <InputGroup className={inputGroupClassName}>\n        <InputGroup.Field>\n          <InputGroup.Label className=\"rev-FileInput-label\">{filePath || placeholder}</InputGroup.Label>\n        </InputGroup.Field>\n        <InputGroup.Button>\n          <Button tag=\"label\" className=\"rev-FileInput-button\">\n            {button}\n            <input {...props} type=\"file\" className=\"ShowForSR\" onChange={this.onChange} />\n          </Button>\n        </InputGroup.Button>\n      </InputGroup>\n    )\n  }\n}\n\nclass FileInputStack extends Component {\n  render() {\n    const {error, help, className, label, ...props} = this.props\n\n    const labelClassName = classNames(className, 'rev-FileInputStack')\n\n    return (\n      <InputLabel className={labelClassName} error={error}>\n        {label}\n        <FileInput {...props} error={error} />\n        <InputHelpText>{help}</InputHelpText>\n        <InputErrors>{error}</InputErrors>\n      </InputLabel>\n    )\n  }\n}\nFileInput.Stack = FileInputStack\n"]}